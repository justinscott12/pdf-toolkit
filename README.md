# PDF Toolkit

A free, ad-supported PDF toolkit web application built with Next.js. All PDF processing happens client-side in the browser, ensuring privacy and zero server costs.

**Portfolio pitch:** Free, privacy-first PDF editor and toolkit (merge, split, compress, edit, convert) — client-side only, no sign-up, SEO- and ad-ready for public launch.

## Features

- **Merge PDFs** - Combine multiple PDF files into one document
- **Split PDF** - Extract pages or split PDF by page ranges
- **Compress PDF** - Reduce PDF file size while maintaining quality
- **Rotate PDF** - Rotate all pages by 90°, 180°, or 270°
- **PDF to Images** - Convert PDF pages to PNG or JPG images
- **Images to PDF** - Combine multiple images into a single PDF
- **Extract Pages** - Extract specific pages from a PDF document
- **Add Watermark** - Add text watermark to all pages
- **Edit Text** - Edit text content in PDFs
- **Flatten PDF** - Flatten form fields and annotations
- **Reorder Pages** - Rearrange PDF page order

## Tech Stack

### Core Technologies
- **Next.js 16** - React framework with App Router
- **React 19** - UI library
- **TypeScript** - Type-safe development
- **Tailwind CSS 4** - Utility-first CSS framework
- **shadcn/ui** - High-quality React components

### PDF Processing Libraries
- **pdf-lib** - PDF manipulation library
- **pdfjs-dist** - PDF.js for rendering and text extraction
- **jspdf** - PDF creation from images
- **browser-image-compression** - Image optimization

### Development Tools
- **ESLint** - Code linting
- **PostCSS** - CSS processing

## Getting Started

### Prerequisites

- Node.js 18+ 
- npm or yarn

### Installation

1. **Clone the repository:**
   ```bash
   git clone <repository-url>
   cd pdftoolkit
   ```

2. **Install dependencies:**
   ```bash
   npm install
   ```

3. **Create a `.env.local` file (optional, for AdSense):**
   ```env
   NEXT_PUBLIC_ADSENSE_PUBLISHER_ID=ca-pub-xxxxxxxxxxxxx
   NEXT_PUBLIC_BASE_URL=http://localhost:3000
   ```

4. **Run the development server:**
   ```bash
   npm run dev
   ```

5. **Open [http://localhost:3000](http://localhost:3000)** in your browser.

## Building for Production

```bash
npm run build
npm start
```

## Testing

Automated tests avoid manual regression when you change code.

- **Unit tests (Vitest)** – PDF lib logic: merge, split, compress, rotate, and `cn()` util.
  ```bash
  npm run test        # watch mode
  npm run test:run    # single run
  ```
- **E2E smoke tests (Playwright)** – Homepage, tool pages, how-to guides, privacy, sitemap, robots.
  ```bash
  npm run test:e2e           # starts dev server on port 3001, runs Chromium + Firefox
  npm run test:e2e -- --project=chromium   # Chromium only
  npm run test:e2e:ui        # interactive UI
  ```
- **Run everything (e.g. before PR or deploy):**
  ```bash
  npm run test:ci
  ```

First time: `npx playwright install chromium` (or `npx playwright install` for all browsers).

## Privacy & Security

- ✅ All PDF processing happens **client-side** in the user's browser
- ✅ Files never leave the user's device
- ✅ No server-side processing or storage
- ✅ No user accounts or authentication required
- ✅ No data collection or tracking
- ✅ Open source PDF libraries (pdf-lib, pdfjs-dist, jspdf)

### Copyright & Legal Notice

All PDF processing libraries used are open source:
- **pdfjs-dist** (Mozilla) - Apache License 2.0
- **pdf-lib** (Hopding, LLC) - Apache License 2.0
- **jspdf** (James Hall) - MIT License

This project is 100% legal and copyright-compliant. No proprietary software or code is used.

## SEO & Marketing

### SEO Features
- All pages include SEO-optimized metadata (title, description, keywords, canonical)
- **Sitemap** at `/sitemap.xml` (generated by `app/sitemap.ts`)
- Open Graph and Twitter Card meta tags (with `metadataBase` for absolute image URLs)
- Structured data (JSON-LD): WebApplication, Organization, WebSite, FAQPage, HowTo per guide
- `robots.txt` at `/robots.txt` (allow all, sitemap reference)
- Optional Google/Bing Search Console verification via env vars

### Ad Integration

The app supports Google AdSense integration. Set the `NEXT_PUBLIC_ADSENSE_PUBLISHER_ID` environment variable to enable ads. Ad placements include:

#### Getting ads to work (e.g. pdftoolkit.live)

1. **Add your site in Google AdSense**  
   Go to [Google AdSense](https://www.google.com/adsense), add your property (e.g. `https://pdftoolkit.live`), and complete verification. Once approved, you get a **publisher ID** like `ca-pub-xxxxxxxxxxxxxxxx`.

2. **Set the env var in your host (Vercel / Netlify)**  
   - **Vercel:** Project → Settings → Environment Variables → add `NEXT_PUBLIC_ADSENSE_PUBLISHER_ID` = `ca-pub-xxxxxxxxxxxxxxxx` for **Production** (and Preview if you want ads on preview deploys).  
   - **Netlify:** Site → Site configuration → Environment variables → same name and value.

3. **Redeploy**  
   Next.js bakes `NEXT_PUBLIC_*` into the build. After adding or changing the variable, trigger a **new deploy** (e.g. redeploy from Vercel/Netlify dashboard or push a commit). Ads will not show until a build that includes the publisher ID is live.

4. **ads.txt (AdSense authorization)**  
   The site serves `/ads.txt` from your publisher ID. Once `NEXT_PUBLIC_ADSENSE_PUBLISHER_ID` is set and deployed, open `https://yoursite.com/ads.txt` and you should see the Google line. In AdSense, check **Account → Settings → ads.txt**; status will move from "Not found" to "Authorized" after Google crawls it (can take a few days).

5. **Optional: ad slots**  
   For separate ad units (e.g. different slots per placement), create ad units in AdSense and pass `adSlot` to `<AdBanner adSlot="1234567890" />`. Without `adSlot`, responsive auto ads use your default account settings.

- Header banner (horizontal)
- Sidebar (rectangle)
- In-content ads
- Footer banner

### Target Keywords

High-volume keywords targeted:
- merge pdf (49,500/mo)
- compress pdf (40,500/mo)
- split pdf (22,200/mo)
- pdf to jpg (18,100/mo)
- jpg to pdf (14,800/mo)

## Project Structure

```
pdftoolkit/
├── app/
│   ├── tools/              # Individual tool pages
│   │   ├── merge-pdf/
│   │   ├── split-pdf/
│   │   ├── compress-pdf/
│   │   ├── rotate-pdf/
│   │   ├── pdf-to-images/
│   │   ├── images-to-pdf/
│   │   ├── extract-pages/
│   │   ├── watermark/
│   │   ├── edit-text/
│   │   ├── flatten-pdf/
│   │   └── reorder-pages/
│   ├── layout.tsx          # Root layout
│   └── page.tsx            # Homepage
├── components/
│   ├── PDFUploader.tsx     # File upload component
│   ├── PDFPreview.tsx      # PDF preview component
│   ├── AdBanner.tsx         # AdSense integration
│   └── ui/                  # shadcn/ui components
├── lib/
│   ├── pdf-merge.ts        # PDF merging logic
│   ├── pdf-split.ts        # PDF splitting logic
│   ├── pdf-compress.ts     # PDF compression logic
│   └── ...                  # Other PDF operation libraries
└── public/                  # Static assets
```

## Available Tools

### Merge PDFs
Combine multiple PDF files into a single document. Supports drag-and-drop file selection.

### Split PDF
Extract specific pages or split PDF by page ranges. Useful for extracting specific sections.

### Compress PDF
Reduce PDF file size while maintaining quality. Optimizes images and removes unnecessary data.

### Rotate PDF
Rotate all pages by 90°, 180°, or 270°. Useful for correcting document orientation.

### PDF to Images
Convert PDF pages to PNG or JPG images. Selectable image format and quality.

### Images to PDF
Combine multiple images into a single PDF document. Supports various image formats.

### Extract Pages
Extract specific pages from a PDF document. Select individual pages or ranges.

### Add Watermark
Add text watermark to all pages. Customizable text, position, and opacity.

### Edit Text
Edit text content in PDFs. Visual editor with text extraction and replacement.

### Flatten PDF
Flatten form fields and annotations. Makes PDFs read-only and reduces file size.

### Reorder Pages
Rearrange PDF page order. Drag-and-drop interface for easy reordering.

## Customization

### Adding New Tools

1. Create a new tool page in `app/tools/[tool-name]/`
2. Create corresponding library function in `lib/`
3. Add tool card to homepage
4. Update sitemap and navigation

### Styling

The project uses Tailwind CSS with shadcn/ui components. Customize colors and spacing in `tailwind.config.js`.

## Deployment

The application can be deployed to:
- **Vercel** (recommended for Next.js)
- **Netlify**
- **AWS Amplify**
- Any static hosting service

### Environment Variables

Copy `.env.example` to `.env.local` and set as needed. **Never commit `.env` or `.env.local`** (they are gitignored). For production set these in your host’s dashboard (e.g. Netlify, Vercel):

| Variable | Required | Description |
|----------|----------|-------------|
| `NEXT_PUBLIC_BASE_URL` | No (defaults to https://pdftoolkit.live) | Canonical URL for sitemap, OG, and structured data |
| `NEXT_PUBLIC_GA_MEASUREMENT_ID` | No | Google Analytics (GA4) measurement ID, e.g. `G-XXXXXXXXXX` |
| `NEXT_PUBLIC_ADSENSE_PUBLISHER_ID` | No | Google AdSense publisher ID to show ads |
| `NEXT_PUBLIC_GOOGLE_VERIFICATION` | No | Google Search Console ownership meta value |
| `NEXT_PUBLIC_BING_VERIFICATION` | No | Bing Webmaster Tools ownership meta value |

### Netlify: Add environment variables

1. Open [Netlify](https://app.netlify.com) → your site → **Site configuration** (or **Site settings**) → **Environment variables**.
2. Click **Add a variable** or **Add environment variable** / **New variable**.
3. Add each variable:
   - **Key:** e.g. `NEXT_PUBLIC_BASE_URL`
   - **Value:** your value (e.g. `https://pdftoolkit.live`)
   - **Scopes:** check **Production** (and **Deploy previews** if you want them there).
4. Add the rest: `NEXT_PUBLIC_GA_MEASUREMENT_ID`, `NEXT_PUBLIC_ADSENSE_PUBLISHER_ID`, etc., as needed.
5. Save. Trigger a **new deploy** (e.g. **Deploys** → **Trigger deploy** → **Deploy site**) so the new variables are baked into the build.

### Going public checklist

- [ ] Set production env vars (base URL, AdSense if desired, verification codes)
- [ ] Confirm domain (e.g. pdftoolkit.live) and SSL
- [ ] Submit sitemap: `https://yourdomain.com/sitemap.xml` in Google Search Console and Bing Webmaster Tools
- [ ] (Optional) Add AdSense site, get publisher ID, and enable ads
- [ ] Test key tools (merge, split, compress, edit) and how-to pages on production
- [ ] Link from portfolio or marketing as “Free PDF editor & toolkit – client-side, no sign-up”

## License

MIT License - feel free to use this project for your own purposes.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.
